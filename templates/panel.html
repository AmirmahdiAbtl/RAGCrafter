<!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!--=============== FAVICON ===============-->
        <!--=============== FAVICON ===============-->
    <link rel="shortcut icon" href="{{ url_for('static', filename='img/icond.png') }}" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!--=============== BOXICONS ===============-->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

    <!--=============== SWIPER CSS ===============-->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/swiper-bundle.min.css') }}">
    <!--=============== CSS ===============-->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    
    </head>
    <title>RAGCraft</title>
    <body>
        <!--=============== HEADER ===============-->
        
        <header class="header" id="header">
            <nav class="nav container">
                <a href="{{ url_for('panel') }}" class="nav__logo">RAGCraft</a>
                
                </div>
                <!-- Change Theme Color -->
                <i class='bx bx-moon change-theme' id="theme-button"></i>
            </nav>
        </header>

        <main class="main">
            <!--=============== HOME ===============-->
            <section class="home section" id="home">
                <div class="home__container container grid">
                      <!--=============== SERVICES ===============-->
            <section class="services section">
                <span class="section__subtitle">My RAG Applications</span>
                <h2 class="section__title">Choose or Create a RAG</h2>
    
                <div class="services__container container grid">
                   
                    <div class="services__card">
                        <h3 class="services__title">Create New RAG</h3>
                        <p class="services__description">Create a new RAG application from scratch</p>
                        <span class="services__button" onclick="window.location.href='{{ url_for('rag_creator.create_new_rag') }}'">
                            Create New <i class='bx bx-right-arrow-alt services__icon' ></i>
                        </span>
                    </div>
                    
                    {% for rag in rags %}
                    <div class="services__card">
                        <h3 class="services__title">{{ rag.name }}</h3>
                        <p class="services__description">
                            {% if rag.project_purpose and rag.project_purpose|length > 50 %}
                                {{ rag.project_purpose[:50] }}...
                            {% elif rag.project_purpose %}
                                {{ rag.project_purpose }}
                            {% else %}
                                {{ rag.model_type }} - {{ rag.model_name }}
                            {% endif %}
                        </p>
                        <div class="services__status">Status: {{ rag.status }}</div>
                        <div class="services__actions">
                            {% if rag.status == 'ready' %}
                            <span class="services__button" onclick="window.location.href='{{ url_for('developerassistant.chat_with_rag', rag_id=rag.id) }}'">
                                Chat <i class='bx bx-message-alt-detail services__icon' ></i>
                            </span>
                            {% else %}
                            <span class="services__button" onclick="window.location.href='{{ url_for('rag_creator.rag_details', rag_id=rag.id) }}'">
                                Continue Setup <i class='bx bx-cog services__icon' ></i>
                            </span>
                            {% endif %}
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </section>
                    
                </div>
            </section>
            
        <div class="work__container container grid" id="MixItUp41FB2B" style="">    
        </main>
        
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                document.querySelectorAll('.nav__link').forEach(anchor => {
                    anchor.addEventListener('click', function (e) {
                        e.preventDefault();
                        
                        const targetId = this.getAttribute('href').substring(1); // Get section ID from href
                        const targetSection = document.getElementById(targetId);
                        
                        // Fallback if smooth scroll behavior isn't natively supported
                        targetSection.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    });
                });
            });
        </script>
            
        <!--=============== SCROLLREVEAL ===============-->
        <script src="./static/js/scrollreveal.min.js'"></script>

        <!--=============== SWIPER JS ===============-->
        <script src="./static/js/swiper-bundle.min.js"></script>

        <!--=============== MIXITUP FILTER ===============-->
        <script src="./static/js/mixitup.min.js"></script>

        <!--=============== MAIN JS ===============-->
        <script src="./static/js/main.js"></script>
        <script src="./static/js/scriptchat.js"></script>
        
    </body>
</html>